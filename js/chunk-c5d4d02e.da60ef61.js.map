{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/components/Search/SearchBusPage.vue?f2d2","webpack:///src/components/Search/SearchBusPage.vue","webpack:///./src/components/Search/SearchBusPage.vue?92f8","webpack:///./src/components/Search/SearchBusPage.vue","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.includes.js"],"names":["$","uncurryThis","notARegExp","requireObjectCoercible","toString","correctIsRegExpLogic","stringIndexOf","indexOf","target","proto","forced","includes","searchString","this","arguments","length","undefined","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","isRegExp","global","TypeError","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","matchSearch","singleDirectionBusRoutes","option","SubRouteName","scopedSlots","_u","key","fn","ref","Headsign","_v","_s","proxy","model","value","callback","$$v","selectedBusRoute","expression","_l","busRoute","SubRouteID","on","$event","toTimeArrivalPage","style","color","setBusIconColor","RouteID","staticRenderFns","component","METHOD_NAME","regexp","error1","error2","$includes","addToUnscopables","el"],"mappings":"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","file":"js/chunk-c5d4d02e.da60ef61.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\nvar stringIndexOf = uncurryThis(''.indexOf);\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~stringIndexOf(\n      toString(requireObjectCoercible(this)),\n      toString(notARegExp(searchString)),\n      arguments.length > 1 ? arguments[1] : undefined\n    );\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var global = require('../internals/global');\nvar isRegExp = require('../internals/is-regexp');\n\nvar TypeError = global.TypeError;\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-page\"},[_c('v-select',{attrs:{\"placeholder\":\"請輸入搜尋關鍵字\",\"filter\":_vm.matchSearch,\"options\":_vm.singleDirectionBusRoutes,\"get-option-label\":function (option) { return option.SubRouteName; }},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar SubRouteName = ref.SubRouteName;\nvar Headsign = ref.Headsign;\nreturn [_vm._v(\" \"+_vm._s(SubRouteName)+\" \"),_c('br'),_c('cite',[_vm._v(_vm._s(Headsign))])]}},{key:\"no-options\",fn:function(){return [_vm._v(\" 無符合選項 \")]},proxy:true}]),model:{value:(_vm.selectedBusRoute),callback:function ($$v) {_vm.selectedBusRoute=$$v},expression:\"selectedBusRoute\"}}),_c('div',{staticClass:\"bus-group-area\"},_vm._l((_vm.singleDirectionBusRoutes),function(busRoute){return _c('div',{key:busRoute.SubRouteID,staticClass:\"bus-group\",on:{\"click\":function($event){return _vm.toTimeArrivalPage(busRoute)}}},[_c('div',{staticClass:\"bus-number-title\"},[_c('i',{staticClass:\"fa fa-bus\",style:({color: _vm.setBusIconColor(busRoute.RouteID)})}),_c('span',{staticClass:\"bus-number\"},[_vm._v(_vm._s(busRoute.SubRouteName))])]),_c('span',{staticClass:\"bus-route\"},[_vm._v(_vm._s(busRoute.Headsign))])])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"search-page\">\r\n        <v-select v-model=\"selectedBusRoute\"\r\n                  placeholder=\"請輸入搜尋關鍵字\"\r\n                  :filter=\"matchSearch\"\r\n                  :options=\"singleDirectionBusRoutes\"\r\n                  :get-option-label=\"(option) => option.SubRouteName\">\r\n            <template #option=\"{ SubRouteName, Headsign }\">\r\n                {{ SubRouteName }}\r\n                <br/>\r\n                <cite>{{ Headsign }}</cite>\r\n            </template>\r\n            <template #no-options>\r\n                無符合選項\r\n            </template>\r\n        </v-select>\r\n        <div class=\"bus-group-area\">\r\n            <div class=\"bus-group\"\r\n                 v-for=\"busRoute in singleDirectionBusRoutes\"\r\n                 :key=\"busRoute.SubRouteID\"\r\n                 @click=\"toTimeArrivalPage(busRoute)\">\r\n                <div class=\"bus-number-title\">\r\n                    <i class=\"fa fa-bus\" :style=\"{color: setBusIconColor(busRoute.RouteID)}\"/>\r\n                    <span class=\"bus-number\">{{ busRoute.SubRouteName }}</span>\r\n                </div>\r\n                <span class=\"bus-route\">{{ busRoute.Headsign }}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import _ from 'lodash';\r\n    import {mapState} from 'vuex';\r\n\r\n    export default {\r\n        name: \"SearchBusPage\",\r\n        computed: {\r\n            ...mapState({\r\n                busRoutes: state => state.busRoutes\r\n            }),\r\n            singleDirectionBusRoutes() {\r\n                return _.filter(this.busRoutes, (busRoute) => !busRoute.Direction).map((match) => {\r\n                    match.Headsign = match.Headsign.replace('→', ' ↔ ');\r\n                    return match\r\n                })\r\n            }\r\n        },\r\n        watch: {\r\n            selectedBusRoute(newVal) {\r\n                if(newVal) {\r\n                    this.toTimeArrivalPage()\r\n                }\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                loading: false,\r\n                selectedBusRoute: null\r\n            }\r\n        },\r\n        methods: {\r\n            toTimeArrivalPage(busRoute) {\r\n                if(busRoute) //使用點擊\r\n                    this.selectedBusRoute = busRoute;\r\n                this.$store.commit('UPDATE_SELECTED_BUS_ROUTE', this.selectedBusRoute);\r\n                this.$router.push('timeArrival');\r\n            },\r\n            matchSearch(options, search) {\r\n                let match = _.filter(this.singleDirectionBusRoutes, (busRoute) => {\r\n                    if(busRoute.SubRouteName.includes(search))\r\n                        return busRoute\r\n                    if(busRoute.Headsign) {\r\n                        if(busRoute.Headsign.includes(search))\r\n                            return busRoute\r\n                    }\r\n                })\r\n                if(match.length) {\r\n                    return match\r\n                } else {\r\n                    return []\r\n                }\r\n            },\r\n            setBusIconColor(routeId) {\r\n                if(routeId === '0714') return '#4eba66'\r\n                else if(routeId === '0715') return '#ffc107'\r\n                else return '#e32525'\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBusPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBusPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchBusPage.vue?vue&type=template&id=2917bfa9&scoped=true&\"\nimport script from \"./SearchBusPage.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchBusPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2917bfa9\",\n  null\n  \n)\n\nexport default component.exports","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n"],"sourceRoot":""}